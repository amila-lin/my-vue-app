import{d as h,r as d,az as f,c as i,o as c,a,J as g,K as v,ak as b,O as p}from"./vue-5klyxRfl.js";import{s as m}from"./index-ux22gBrD.js";import"./elementPlus-DS8GmrEa.js";const k={class:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900"},_={class:"w-full max-w-sm p-8 bg-white dark:bg-gray-800 rounded shadow"},V={class:"space-y-4"},C=["disabled"],B=["disabled"],E={key:0,class:"text-red-500 text-sm text-center"},M={key:1,class:"text-green-500 text-sm text-center"},N=h({__name:"LoginView",setup(P){const o=d(""),n=d(""),t=d(""),s=d(""),e=d(!1),x=f(),y=async()=>{t.value="",s.value="",e.value=!0;const{error:l}=await m.auth.signInWithPassword({email:o.value,password:n.value});l?t.value=l.message:(s.value="登入成功，正在導向...",setTimeout(()=>{x.push("/")},1e3)),e.value=!1},w=async()=>{t.value="",s.value="",e.value=!0;const{error:l}=await m.auth.resetPasswordForEmail(o.value,{redirectTo:`${window.location.origin}/reset-password`});l?t.value=l.message:s.value="已寄出重設密碼信，請查看你的信箱",e.value=!1};return(l,r)=>(c(),i("div",k,[a("div",_,[r[2]||(r[2]=a("h2",{class:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6"}," 登入 ",-1)),a("div",V,[g(a("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>o.value=u),type:"email",placeholder:"Email",class:"w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400"},null,512),[[b,o.value]]),g(a("input",{"onUpdate:modelValue":r[1]||(r[1]=u=>n.value=u),type:"password",placeholder:"密碼",class:"w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400"},null,512),[[b,n.value]]),a("button",{onClick:y,disabled:e.value,class:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},p(e.value?"登入中...":"登入"),9,C),a("button",{onClick:w,disabled:e.value||!o.value,class:"w-full py-2 px-4 border border-gray-400 text-sm text-gray-600 dark:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50"}," 忘記密碼？ ",8,B),t.value?(c(),i("p",E,p(t.value),1)):v("",!0),s.value?(c(),i("p",M,p(s.value),1)):v("",!0)])])]))}});export{N as default};
