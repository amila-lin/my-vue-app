import{d as g,r,az as v,c as l,o as i,a as t,V as x,J as w,K as y,ak as h,O as u}from"./vue-5klyxRfl.js";import{s as f}from"./index-07yV02cu.js";import"./elementPlus-DS8GmrEa.js";const _={class:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900"},k={class:"w-full max-w-sm p-8 bg-white dark:bg-gray-800 rounded shadow"},V=["disabled"],B=["disabled"],C={key:0,class:"text-red-500 text-sm text-center"},E={key:1,class:"text-center space-y-4"},F=g({__name:"ForgetPasswordView",setup(M){const a=r(""),o=r(""),s=r(!1),n=r(!1),c=v(),p=async()=>{o.value="",s.value=!0;const{error:d}=await f.auth.resetPasswordForEmail(a.value,{redirectTo:`${window.location.origin}/my-vue-app/reset-password`});d?o.value=d.message:n.value=!0,s.value=!1},m=()=>{c.push("/login")};return(d,e)=>(i(),l("div",_,[t("div",k,[e[2]||(e[2]=t("h2",{class:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6"}," 忘記密碼 ",-1)),n.value?(i(),l("div",E,[e[1]||(e[1]=t("p",{class:"text-green-500 text-sm"},"已寄出重設密碼信，請查看你的信箱。",-1)),t("button",{onClick:m,class:"mt-2 py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700"}," 返回登入頁 ")])):(i(),l("form",{key:0,onSubmit:x(p,["prevent"]),class:"space-y-4"},[w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=b=>a.value=b),type:"email",placeholder:"請輸入註冊的Email",class:"w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400",required:"",disabled:s.value},null,8,V),[[h,a.value]]),t("button",{type:"submit",disabled:s.value||!a.value,class:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},u(s.value?"寄送中...":"寄送重設密碼信"),9,B),o.value?(i(),l("p",C,u(o.value),1)):y("",!0)],32))])]))}});export{F as default};
