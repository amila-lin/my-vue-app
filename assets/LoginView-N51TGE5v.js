import{c as d,o as r,a as t,d as _,r as a,az as M,ag as V,V as B,J as v,K as p,ak as w,H as C,u as L,O as x,Q as h,I as b,M as m}from"./vue-BG4hBqFv.js";import{s as N}from"./index-Cs2drSQK.js";import"./elementPlus-BIrCDVld.js";function j(y,o){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}const R={class:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900"},T={class:"w-full max-w-sm p-8 bg-white dark:bg-gray-800 rounded shadow"},D=["disabled"],E={class:"text-center text-sm"},I={key:0,class:"text-red-500 text-sm text-center"},S={key:1,class:"text-green-500 text-sm text-center"},U={class:"text-center text-sm text-gray-600 dark:text-gray-300 mt-4"},K=_({__name:"LoginView",setup(y){const o=a(""),i=a(""),l=a(""),n=a(""),s=a(!1),f=M(),k=async()=>{s.value=!0,l.value="",n.value="";const{error:u}=await N.auth.signInWithPassword({email:o.value,password:i.value});u?l.value=u.message:(n.value="登入成功，正在導向...",setTimeout(()=>{f.push("/")},1e3)),s.value=!1};return(u,e)=>{const g=V("RouterLink");return r(),d("div",R,[t("div",T,[e[5]||(e[5]=t("h2",{class:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6"}," 登入 ",-1)),t("form",{onSubmit:B(k,["prevent"]),class:"space-y-4"},[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>o.value=c),type:"email",placeholder:"Email",class:"w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400"},null,512),[[w,o.value]]),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>i.value=c),type:"password",placeholder:"密碼",class:"w-full px-4 py-2 border rounded bg-white dark:bg-gray-700 text-black dark:text-white placeholder-gray-400"},null,512),[[w,i.value]]),t("button",{type:"submit",disabled:s.value,class:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center space-x-2"},[s.value?(r(),C(L(j),{key:0,class:"h-5 w-5 animate-spin text-white"})):p("",!0),t("span",null,x(s.value?"登入中...":"登入"),1)],8,D),t("p",E,[h(g,{to:"/forget-password",class:"text-gray-600 hover:underline dark:text-gray-300"},{default:b(()=>e[2]||(e[2]=[m(" 忘記密碼？ ")])),_:1,__:[2]})]),l.value?(r(),d("p",I,x(l.value),1)):p("",!0),n.value?(r(),d("p",S,x(n.value),1)):p("",!0),t("p",U,[e[4]||(e[4]=m(" 還沒有帳號？ ")),h(g,{to:"/register",class:"text-blue-600 hover:underline dark:text-blue-400"},{default:b(()=>e[3]||(e[3]=[m(" 前往註冊 ")])),_:1,__:[3]})])],32)])])}}});export{K as default};
